(lp0
S'http://www.cnblogs.com/vovlie/archive/2013/02/20/2917935.html'
p1
aS'\xe5\xbc\x80\xe6\xba\x90Nginx \xe6\x96\x87\xe4\xbb\xb6\xe4\xb8\x8a\xe4\xbc\xa0\xe6\x9c\x8d\xe5\x8a\xa1\xe5\x99\xa8\xe3\x80\x82ngx_upload_module+web.py+gevent+varnish\xe5\x89\x8d\xe7\xab\xaf\xe7\xbc\x93\xe5\xad\x98 - Vovolie - \xe5\x8d\x9a\xe5\xae\xa2\xe5\x9b\xad'
p2
aI0
aV\u000a<!DOCTYPE html>\u000a<html lang="zh-cn">\u000a<head>\u000a<meta charset="utf-8"/>\u000a<meta name="viewport" content="width=device-width, initial-scale=1" />\u000a<title>\u5f00\u6e90Nginx \u6587\u4ef6\u4e0a\u4f20\u670d\u52a1\u5668\u3002ngx_upload_module+web.py+gevent+varnish\u524d\u7aef\u7f13\u5b58 - Vovolie - \u535a\u5ba2\u56ed</title>\u000a<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=03KQeESEmpLfzDqUo0NiWUg5Zd5aRam3JHBZTK05Wug1"/>\u000a<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/ClearGertrude/bundle-ClearGertrude.css?v=nXd7A2mXPlCDquT0Fv2noIJmYNlG9k_aSdW4dtprbvg1"/>\u000a<link id="mobile-style" media="only screen and (max-width: 768px)" type="text/css" rel="stylesheet" href="/skins/ClearGertrude/bundle-ClearGertrude-mobile.css?v=HNHMXYu2vc354Kq1pSZ8ADfiXouYShhFSBTgwTRPZz01"/>\u000a<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/vovlie/rss"/>\u000a<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/vovlie/rsd.xml"/>\u000a<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/vovlie/wlwmanifest.xml"/>\u000a<script src="//common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  \u000a<script type="text/javascript">var currentBlogApp = 'vovlie', cb_enable_mathjax=false;var isLogined=false;</script>\u000a<script src="/bundles/blog-common.js?v=hH1lCMV8WaIu271Nx7jPuv36TENW9-RsSxziLxUpjtc1" type="text/javascript"></script>\u000a</head>\u000a<body>\u000a<a name="top"></a>\u000a\u000a<div id="header">\u000a<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/vovlie/">\u5927\u6570\u636e\u65f6\u4ee3</a></h1>\u000a<p id="tagline">Just a record.</p></div>\u000a<div id="main">\u000a	\u000a<div id="post_detail">\u000a	<div class="post">\u000a		<h2>\u000a			<a id="cb_post_title_url" href="http://www.cnblogs.com/vovlie/archive/2013/02/20/2917935.html">\u5f00\u6e90Nginx \u6587\u4ef6\u4e0a\u4f20\u670d\u52a1\u5668\u3002ngx_upload_module+web.py+gevent+varnish\u524d\u7aef\u7f13\u5b58</a>\u000a		</h2>\u000a		<div class="postText"><div id="cnblogs_post_body"><p>\u6700\u8fd1\u53c2\u4e0e\u516c\u53f8\u4e00\u9879\u76ee\uff0c\u5f53\u4e2d\u9700\u4f7f\u7528\u56fe\u7247\u4e0e\u97f3\u9891\u7684\u5b58\u50a8\u65b9\u6848\uff0c\u7ecf\u8fc7\u591a\u65b9\u9762\u8003\u8651\uff0c\u91c7\u7528\u4e86Nginx\u7684ngx_upload_module\u4f5c\u4e3a\u4e0a\u4f20\u524d\u7aef\uff0cpython web.py+gevent\u4f5c\u4e3a\u540e\u7aef\u6587\u4ef6\u5904\u7406\u53ca\u751f\u6210\u7f29\u7565\u56fe\u65b9\u5f0f\uff0c\u914d\u5408\u4f7f\u7528Varnish\u4f5c\u4e3ahttp\u7f13\u5b58\u3002\u6574\u4f53\u67b6\u6784\u4e0e\u6027\u80fd\u4e0a\u5e94\u8be5\u6bd4\u8f83\u7406\u60f3\u3002</p>\u000a<p>\u524d\u671f\u7531\u4e8e\u8003\u8651\u4e86\u5206\u5e03\u5f0f\u5b58\u50a8\uff0c\u5927\u91cf\u5730\u5b9e\u9a8c\u4e0e\u5c1d\u8bd5\u4e86fastDFS\uff0c\u611f\u89c9\u7684\u786e\u662f\u5c0f\u6587\u4ef6\u5b58\u50a8\u65b9\u6848\u91cc\u9762\u6bd4\u8f83\u4f18\u79c0\u7684\uff0c\u4f46\u662f\u7531\u4e8e\u5bf9fastDFS\u7684\u4e0d\u719f\u6089\u4e0e\u7a33\u5b9a\u6027\u7684\u8003\u8651\uff0c\u6682\u65f6\u653e\u4e0b\u3002</p>\u000a<p>\u5b9e\u73b0\u65f6\uff0c\u53c2\u8003\u4e86\u5927\u91cfpy-graphic-0.1.1\u7684\u601d\u8def\uff0c\u611f\u8c22\u4f5c\u8005\u3002</p>\u000a<p><a href="https://code.google.com/p/py-graphic/">https://code.google.com/p/py-graphic/</a></p>\u000a<p>&nbsp;</p>\u000a<p>1\u3001\u5b9e\u73b0\u539f\u7406</p>\u000a<p>&nbsp; &nbsp; &nbsp;\u7531Nginx+nginx_upload_module\u5b9e\u73b0\u63a5\u6536http Post\u8bf7\u6c42\uff0c\u5e76\u5c06\u7528\u6237\u6587\u4ef6\u4fdd\u5b58\u5230nginx.conf\u6307\u5b9a\u7684\u4f4d\u7f6e\uff0c<span>\u8fd9\u4e9b\u6587\u4ef6\u4fe1\u606f\u4ece\u539f\u59cb\u8bf7\u6c42\u4f53\u4e2d\u5206\u79bb\u5e76\u6839\u636enginx.conf\u4e2d\u7684\u914d\u7f6e\u91cd\u65b0\u7ec4\u88c5\u597d\u4e0a\u4f20\u53c2\u6570\uff0c\u4ea4\u7531upload_pass\u6307\u5b9a\u7684\u6bb5\u5904\u7406\uff0c\u4ece\u800c\u5141\u8bb8\u5904\u7406\u4efb\u610f\u4e0a\u4f20\u6587\u4ef6\u3002\u6bcf\u4e2a\u4e0a\u4f20\u6587\u4ef6\u4e2d\u7684file\u5b57\u6bb5\u503c\u88ab\u4e00\u7cfb\u5217\u7684upload_set_form_field\u6307\u4ee4\u503c\u66ff\u6362\u3002\u6bcf\u4e2a\u4e0a\u4f20\u6587\u4ef6\u7684\u5185\u5bb9\u53ef\u4ee5\u4ece$upload_tmp_path\u53d8\u91cf\u8bfb\u53d6\uff0c\u6216\u8005\u53ef\u4ee5\u5c06\u6587\u4ef6\u8f6c\u79fb\u5230\u76ee\u7684\u76ee\u5f55\u4e0b\u3002\u4e0a\u4f20\u7684\u6587\u4ef6\u79fb\u9664\u53ef\u4ee5\u901a\u8fc7upload_cleanup\u6307\u4ee4\u63a7\u5236\u3002\u5982\u679c\u8bf7\u6c42\u7684\u65b9\u6cd5\u4e0d\u662fPOST\uff0c\u6a21\u5757\u5c06\u8fd4\u56de405\u9519\u8bef(405 Not Allowed)\uff0c\u8be5\u9519\u8bef\u63d0\u793a\u53ef\u4ee5\u901a\u8fc7error_page\u6307\u4ee4\u5904\u7406\u3002</span></p>\u000a<p><span>&nbsp; &nbsp; &nbsp;upload_pass\u6307\u5b9a\u4e3aproxy_pass\u5730\u5740\uff0c\u5c06\u4e0a\u4f20\u7ed3\u679c\u8f6c\u7531gevent+web.py\u8fdb\u884c\u5904\u7406\u3002\u901a\u8fc7web.input()\u83b7\u53d6\u6240\u6709\u53c2\u6570\uff0c\u5305\u62ec\u6587\u4ef6\u5b9e\u9645\u8def\u5f84\u4e0e\u5927\u5c0f\uff0cMd5\u7b49\u5b57\u6bb5\u3002\u5982\u679c\u662f\u56fe\u7247\u683c\u5f0f\uff0c\u5219\u901a\u8fc7pgmagick\u7ec4\u4ef6\u5bf9\u56fe\u7247\u8fdb\u80fd\u526a\u683d\u5207\u5272\u751f\u6210\u7f29\u7565\u56fe\u3002\u7136\u540e\u5c06\u539f\u56fe\u4e0e\u7f29\u7565\u56fe\u4fdd\u5b58\u5230web\u76ee\u5f55\u4e0b\uff0c\u6700\u540e\u5bf9\u5ba2\u6237\u7aef\u8fd4\u56deJSON\u683c\u5f0f\u7684Varnish\u7f13\u5b58\u5730\u5740\u3002</span></p>\u000a<p>&nbsp;</p>\u000a<p><span>2\u3001\u6240\u9700\u7528\u5230\u7684\u4f9d\u8d56\u9879</span></p>\u000a<p><span>&nbsp; &nbsp; \u4ee5CentOS \u6700\u5c0f\u5316\u5b89\u88c5\u4e3a\u4f8b\u3002</span></p>\u000a<div class="cnblogs_code">\u000a<pre><span style="color: #0000ff;">yum</span> -y <span style="color: #0000ff;">install</span> <span style="color: #0000ff;">gcc</span> <span style="color: #0000ff;">gcc</span>-c++ autoconf <span style="color: #0000ff;">make</span> python python-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel <span style="color: #0000ff;">bzip2</span> <span style="color: #0000ff;">bzip2</span>-devel ncurses ncurses-devel curl curl-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel libidn libidn-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers</pre>\u000a</div>\u000a<p>&nbsp;</p>\u000a<p><span style="line-height: 1.5;">\u3000\u5355\u72ec\u7f16\u8bd1\u5b89\u88c5\uff1a &nbsp; &nbsp; &nbsp;</span></p>\u000a<div class="cnblogs_code">\u000a<pre><span style="color: #000000;">boost_1_50_0\u000asetuptools</span>-<span style="color: #800080;">0</span>.6c11-py2.<span style="color: #800080;">6</span><span style="color: #000000;">.egg\u000agevent</span>-<span style="color: #800080;">1</span><span style="color: #000000;">.0rc2\u000aGraphicsMagick</span>-<span style="color: #800080;">1.3</span>.<span style="color: #800080;">16</span><span style="color: #000000;">\u000apcre</span>-<span style="color: #800080;">8.10</span><span style="color: #000000;">\u000apgmagick</span>-<span style="color: #800080;">0.5</span>.<span style="color: #800080;">4<br /></span></pre>\u000a</div>\u000a<p>\u3000\u3000\u5b89\u88c5Nginx +&nbsp;ngx_upload_module 2.2\u3002</p>\u000a<p>&nbsp; &nbsp; &nbsp; \u5b89\u88c5\u8fc7\u7a0b\u53ef\u4ee5\u53c2\u8003<a href="http://blog.s135.com/nginx_php_v6/">http://blog.s135.com/nginx_php_v6/</a></p>\u000a<p>3\u3001\u914d\u7f6enginx.conf</p>\u000a<p>&nbsp; &nbsp; \u5177\u4f53ngx_upload_module\u914d\u7f6e\u53c2\u6570\uff0c\u8bf7\u53c2\u8003\u5b98\u7f51\u3002</p>\u000a<div class="cnblogs_code">\u000a<pre><span style="color: #000000;">user www www;\u000a\u000aworker_processes  </span><span style="color: #800080;">4</span><span style="color: #000000;">;\u000a\u000aerror_log </span>/*\u81ea\u5b9a\u4e49\u8def\u5f84*/<span style="color: #000000;">nginx_error.log crit;\u000a\u000apid        </span>/usr/local/nginx/<span style="color: #000000;">nginx.pid;\u000a\u000aworker_rlimit_nofile </span><span style="color: #800080;">65535</span><span style="color: #000000;">;\u000a\u000aevents {\u000a    use epoll;\u000a    worker_connections  </span><span style="color: #800080;">65535</span><span style="color: #000000;">;\u000a}\u000a\u000ahttp {\u000a    include       mime.types;\u000a    default_type  application</span>/octet-<span style="color: #000000;">stream;\u000a\u000a    server_names_hash_bucket_size </span><span style="color: #800080;">128</span><span style="color: #000000;">;\u000a    client_header_buffer_size 32k;\u000a    large_client_header_buffers </span><span style="color: #800080;">4</span><span style="color: #000000;"> 32k;\u000a    client_max_body_size 20m;\u000a      \u000a    sendfile on;\u000a    tcp_nopush     on;\u000a    keepalive_timeout </span><span style="color: #800080;">60</span><span style="color: #000000;">;\u000a    tcp_nodelay on;\u000a\u000a    </span><span style="color: #0000ff;">gzip</span><span style="color: #000000;"> on;\u000a    gzip_min_length  1k;\u000a    gzip_buffers     </span><span style="color: #800080;">4</span><span style="color: #000000;"> 16k;\u000a    gzip_http_version </span><span style="color: #800080;">1.0</span><span style="color: #000000;">;\u000a    gzip_comp_level </span><span style="color: #800080;">2</span><span style="color: #000000;">;\u000a    gzip_types       text</span>/plain application/x-javascript text/css application/<span style="color: #000000;">xml;\u000a    gzip_vary on;\u000a\u000a    server {\u000a        listen      </span><span style="color: #800080;">9000</span><span style="color: #000000;">;\u000a        server_name  localhost;\u000a\u000a        location </span>/<span style="color: #000000;"> {\u000a            index  index.html index.htm;\u000a            root </span>/\u81ea\u5b9a\u4e49\u8def\u5f84<span style="color: #000000;">;\u000a        }\u000a\u000a\u000a        location </span>/<span style="color: #000000;">PicUpload {\u000a                upload_pass </span>/<span style="color: #000000;">PicProccess;\u000a                upload_store </span>/*\u81ea\u5b9a\u4e49\u8def\u5f84*/ <span style="color: #800080;">1</span><span style="color: #000000;">;\u000a                upload_store_access user:r;\u000a\u000a                upload_set_form_field $upload_field_name.name </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_file_name</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a                upload_set_form_field $upload_field_name.content_type </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_content_type</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a                upload_set_form_field $upload_field_name.path </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_tmp_path</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a\u000a                upload_aggregate_form_field </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_field_name.md5</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #800000;">$upload_file_md5</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a                upload_aggregate_form_field </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_field_name.size</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #800000;">$upload_file_size</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a\u000a                upload_pass_form_field </span><span style="color: #800000;">"</span><span style="color: #800000;">^uid$|^thumb$</span><span style="color: #800000;">"</span><span style="color: #000000;">;  #\u6307\u5b9a\u7528\u6237ID\u4e0e\u7f29\u7565\u56fe\u5c3a\u5bf8\uff0c\u4f8b\u5982100x100\u000a\u000a                upload_cleanup </span><span style="color: #800080;">400</span> <span style="color: #800080;">404</span> <span style="color: #800080;">499</span> <span style="color: #800080;">500</span>-<span style="color: #800080;">505</span><span style="color: #000000;">;  #\u9047\u5230\u8fd9\u4e9b\u7801\uff0c\u5c31\u6e05\u9664\u4e0a\u4f20\u5185\u5bb9\u3002\u000a        }\u000a\u000a        location </span>/<span style="color: #000000;">VoiceUpload {\u000a                upload_pass </span>/<span style="color: #000000;">VoiceProccess;\u000a                upload_store </span>/*\u81ea\u5b9a\u4e49\u8def\u5f84*/ <span style="color: #800080;">1</span><span style="color: #000000;">;\u000a                upload_store_access user:r;\u000a\u000a                upload_set_form_field $upload_field_name.name </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_file_name</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a                upload_set_form_field $upload_field_name.content_type </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_content_type</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a                upload_set_form_field $upload_field_name.path </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_tmp_path</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a\u000a                upload_aggregate_form_field </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_field_name.md5</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #800000;">$upload_file_md5</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a                upload_aggregate_form_field </span><span style="color: #800000;">"</span><span style="color: #800000;">$upload_field_name.size</span><span style="color: #800000;">"</span> <span style="color: #800000;">"</span><span style="color: #800000;">$upload_file_size</span><span style="color: #800000;">"</span><span style="color: #000000;">;\u000a\u000a                upload_pass_form_field </span><span style="color: #800000;">"</span><span style="color: #800000;">^uid$</span><span style="color: #800000;">"</span><span style="color: #000000;">;  #post\u5e26uid\u57df\u000a\u000a                upload_cleanup </span><span style="color: #800080;">400</span> <span style="color: #800080;">404</span> <span style="color: #800080;">499</span> <span style="color: #800080;">500</span>-<span style="color: #800080;">505</span><span style="color: #000000;">;\u000a        }\u000a\u000a        location </span>/<span style="color: #000000;">PicProccess {\u000a                proxy_pass http:</span><span style="color: #008000;">//</span><span style="color: #008000;">127.0.0.1:9020/PicUpload;</span>\u000a<span style="color: #000000;">        }\u000a        location </span>/<span style="color: #000000;">VoiceProccess {\u000a                proxy_pass http:</span><span style="color: #008000;">//</span><span style="color: #008000;">127.0.0.1:9020/VoiceUpload;</span>\u000a<span style="color: #000000;">        }\u000a\u000a        error_page   </span><span style="color: #800080;">500</span> <span style="color: #800080;">502</span> <span style="color: #800080;">503</span> <span style="color: #800080;">504</span>  /<span style="color: #000000;">50x.html;\u000a        location </span>= /<span style="color: #000000;">50x.html {\u000a            root   </span>/\u81ea\u5b9a\u4e49\u8def\u5f84<span style="color: #000000;">;\u000a        }\u000a\u000a        log_format access </span><span style="color: #800000;">'</span><span style="color: #800000;">$remote_addr - $remote_user[$time_local] "$request"</span><span style="color: #800000;">'</span>\u000a               <span style="color: #800000;">'</span><span style="color: #800000;">$status $body_bytes_sent "$http_referer"</span><span style="color: #800000;">'</span>\u000a               <span style="color: #800000;">'</span><span style="color: #800000;">$http_user_agent" $http_x_forwarded_for</span><span style="color: #800000;">'</span><span style="color: #000000;">;\u000a        access_log </span>/\u65e5\u5fd7\u8def\u5f84/<span style="color: #000000;">nginx_access.log access;\u000a     }\u000a\u000a}</span></pre>\u000a</div>\u000a<p>&nbsp;\u30004\u3001\u3000\u521b\u5efaupload_store \u5b58\u50a8\u4f4d\u7f6e\u3002</p>\u000a<p>&nbsp; &nbsp; &nbsp;\u7531\u4e8engx_upload_module\u662f\u6563\u5217\u5b58\u50a8\uff0c\u6240\u4ee5\u5b50\u76ee\u5f55\u9700\u8981\u5305\u542b 0 1 2 3 4 5 6 7 8 9 \u5341\u4e2a\u76ee\u5f55\u3002</p>\u000a<p>&nbsp; &nbsp; &nbsp;\u5177\u4f53\u53ef\u53c2\u8003<a href="http://www.grid.net.ru/nginx/upload.en.html">http://www.grid.net.ru/nginx/upload.en.html</a></p>\u000a<p>&nbsp; &nbsp;5\u3001\u5f00\u6e90Github\u5730\u5740</p>\u000a<p>\u3000\u3000<a href="https://github.com/vovolie/nginx_upload">https://github.com/vovolie/nginx_upload</a></p>\u000a<p>&nbsp; &nbsp; &nbsp;\u5341\u5206\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u53ef\u968f\u610f\u4fee\u6539\u3002</p>\u000a<p>&nbsp; &nbsp; &nbsp; \u76ee\u5f55\u7ed3\u6784</p>\u000a<p>\u3000\u3000bin : \u5305\u62ecDaemon\u5b88\u62a4\u8fdb\u7a0b\uff0cwsgiServer.py\u4e3b\u7a0b\u5e8f\u3002</p>\u000a<p>\u3000\u3000conf:\u65e5\u5fd7\u914d\u7f6e\u4e0e\u7a0b\u5e8f\u914d\u7f6e\u6587\u4ef6\u3002</p>\u000a<p>&nbsp; &nbsp; &nbsp; log:\u65e5\u5fd7\u5b58\u653e\u4f4d\u7f6e\u3002</p>\u000a<p>&nbsp; &nbsp; &nbsp; test:post\u6d4b\u8bd5\u7684\u5c0f\u7a0b\u5e8f\u3002</p>\u000a<p>&nbsp; &nbsp; 6\u3001\u5b89\u88c5varnish\uff0c\u5982\u679c\u662f\u540c\u4e00\u53f0\u670d\u52a1\u5668\uff0c\u9700\u6307\u5b9a\u4e0d\u540c\u7684\u7aef\u53e3\uff0c\u5728conf\u914d\u7f6e\u6587\u4ef6\u4e2d\u8fdb\u884c\u4fee\u6539\u8fd4\u56de\u7684\u5730\u5740\u3002</p></div><div id="MySignature"></div>\u000a<div class="clear"></div>\u000a<div id="blog_post_info_block">\u000a<div id="BlogPostCategory"></div>\u000a<div id="EntryTag"></div>\u000a<div id="blog_post_info">\u000a</div>\u000a<div class="clear"></div>\u000a<div id="post_next_prev"></div>\u000a</div>\u000a\u000a</div>\u000a		<p class="postfoot">\u000a			posted on <span id="post-date">2013-02-20 00:12</span> <a href='http://www.cnblogs.com/vovlie/'>Vovolie</a> \u9605\u8bfb(<span id="post_view_count">...</span>) \u8bc4\u8bba(<span id="post_comment_count">...</span>)  <a href ="https://i.cnblogs.com/EditPosts.aspx?postid=2917935" rel="nofollow">\u7f16\u8f91</a> <a href="#" onclick="AddToWz(2917935);return false;">\u6536\u85cf</a>\u000a		</p>\u000a	</div>\u000a	<script type="text/javascript">var allowComments=true,cb_blogId=126284,cb_entryId=2917935,cb_blogApp=currentBlogApp,cb_blogUserGuid='8780d45e-e1ed-e111-aa3f-842b2b196315',cb_entryCreatedDate='2013/2/20 0:12:00';loadViewCount(cb_entryId);</script>\u000a	\u000a	</div><a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>\u000a<div id='comment_form' class='commentform'>\u000a<a name='commentform'></a>\u000a<div id='divCommentShow'></div>\u000a<div id='comment_nav'><span id='span_refresh_tips'></span><a href='javascript:void(0);' onclick='return RefreshCommentList();' id='lnk_RefreshComments' runat='server' clientidmode='Static'>\u5237\u65b0\u8bc4\u8bba</a><a href='#' onclick='return RefreshPage();'>\u5237\u65b0\u9875\u9762</a><a href='#top'>\u8fd4\u56de\u9876\u90e8</a></div>\u000a<div id='comment_form_container'></div>\u000a<div class='ad_text_commentbox' id='ad_text_under_commentbox'></div>\u000a<div id='ad_t2'></div>\u000a<div id='opt_under_post'></div>\u000a<div id='ad_c1' class='c_ad_block'></div>\u000a<div id='under_post_news'></div>\u000a<div id='ad_c2' class='c_ad_block'></div>\u000a<div id='under_post_kb'></div>\u000a<div id='HistoryToday' class='c_ad_block'></div>\u000a<script type='text/javascript'>\u000a    fixPostBody();\u000a    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);\u000a    deliverAdT2();\u000a    deliverAdC1();\u000a    deliverAdC2();    \u000a    loadNewsAndKb();\u000a    loadBlogSignature();\u000a    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);\u000a    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);\u000a    loadOptUnderPost();\u000a    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   \u000a</script>\u000a</div>\u000a\u000a\u000a</div>\u000a<div id="rightmenu">\u000a	\u000a		\u000a<h3>\u5bfc\u822a</h3>\u000a<ul>\u000a<li><a id="blog_nav_sitehome" href="http://www.cnblogs.com/">\u535a\u5ba2\u56ed</a></li>\u000a<li><a id="blog_nav_myhome" href="http://www.cnblogs.com/vovlie/">\u9996\u9875</a></li>\u000a<li><a id="blog_nav_newpost" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">\u65b0\u968f\u7b14</a></li>\u000a<li><a id="blog_nav_contact" accesskey="9" rel="nofollow" href="https://msg.cnblogs.com/send/Vovolie">\u8054\u7cfb</a></li>\u000a<li><a id="blog_nav_rss" href="http://www.cnblogs.com/vovlie/rss">\u8ba2\u9605</a><a id="blog_nav_rss_image" href="http://www.cnblogs.com/vovlie/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="\u8ba2\u9605" /></a></li>\u000a<li><a id="blog_nav_admin" rel="nofollow" href="https://i.cnblogs.com/">\u7ba1\u7406</a></li>\u000a</ul>\u000a		\u000a<h3>\u516c\u544a</h3>\u000a<div class="newsItem">\u000a	<div id="blog-news"></div><script type="text/javascript">loadBlogNews();</script>\u000a</div>					\u000a		<div id="blog-calendar" style="display:none"></div><script type="text/javascript">loadBlogDefaultCalendar();</script>\u000a		<div id="blog_stats">\u000a<h3>\u7edf\u8ba1</h3>\u000a<ul>\u000a	<li>\u968f\u7b14 - 17</li>\u000a	<li>\u6587\u7ae0 - 0</li>\u000a	<li>\u8bc4\u8bba - 50</li>\u000a	<li>\u5f15\u7528 - 0</li>\u000a </ul></div>\u000a		<div id="blog-sidecolumn"></div><script type="text/javascript">loadBlogSideColumn();</script>\u000a		\u000a<div id="footer">\u000a	Powered by: \u000a	<br />\u000a	<a id="Footer1_Hyperlink3" href="http://www.cnblogs.com/" style="font-family:Verdana;font-size:12px;">\u535a\u5ba2\u56ed</a>\u000a	<br />\u000a	Copyright &copy; Vovolie\u000a</div>\u000a	\u000a</div>			\u000a			\u000a	\u000a\u000a</body>\u000a</html>\u000a
p3
a.