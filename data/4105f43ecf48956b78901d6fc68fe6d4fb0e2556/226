(lp0
S'http://www.squid-cache.org/Doc/config/auth_param/'
p1
aS'squid : auth_param configuration directive'
p2
aI0
aV<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">\u000a<!--\u000aDesign by Free CSS Templates\u000ahttp://www.freecsstemplates.org\u000aReleased for free under a Creative Commons Attribution 2.5 License\u000a-->\u000a<html>\u000a<head>\u000a<meta http-equiv="content-type" content="text/html; charset=utf-8">\u000a<title>squid : auth_param configuration directive</title>\u000a<meta name="keywords" content="">\u000a<meta name="description" content="">\u000a<link href="/default.css" rel="stylesheet" type="text/css">\u000a<link href="/cfgman.css" rel="stylesheet" type="text/css">\u000a</head>\u000a<body>\u000a<div id="header">\u000a	<div id="logo">\u000a		<h1><a href="/"><span>squid-</span>cache.org</a></h1>\u000a		<h2>Optimising Web Delivery</h2>\u000a	</div>\u000a	<div id="menu">\u000a		<ul>\u000a			<li class="first"><a href="/Doc/" accesskey="1" title="">Docs</a></li>\u000a			<li><a href="/Versions/" accesskey="2" title="">Download</a></li>\u000a			<li><a href="/Foundation/donate.html" accesskey="3" title="">Donate</a></li>\u000a			<li><a href="/Support/" accesskey="4" title="">Support</a></li>\u000a			<li><a href="/Intro/" accesskey="5" title="">About</a></li>\u000a			<li><a href="/Support/contact.html" accesskey="6" title="">Contact</a></li>\u000a			<li><a href="http://www.cafepress.com/squidproxy" accesskey="7" title="" onclick="javascript: window.open(this.href); return false;">Shop</a></li>\u000a			<li><a href="http://squidproxy.wordpress.com/" accesskey="8" title="Squid Proxy Blog" onclick="javascript: window.open(this.href); return false;">Blog</a></li>\u000a		</ul>\u000a	</div>\u000a</div>\u000a<div id="splash"><img src="/Images/img4.jpg" alt="" style="width: 877px; height: 140px;"></div>\u000a<div id="content">\u000a	<div id="colOne">\u000a\u000a<h2>Squid configuration directive auth_param</h2>\u000a<p>Available in: <a class="current" href="/Versions/v4/cfgman/auth_param.html">4</a> &nbsp; <a  href="/Versions/v3/3.5/cfgman/auth_param.html">3.5</a> &nbsp; <a  href="/Versions/v3/3.4/cfgman/auth_param.html">3.4</a> &nbsp; <a  href="/Versions/v3/3.3/cfgman/auth_param.html">3.3</a> &nbsp; <a  href="/Versions/v3/3.2/cfgman/auth_param.html">3.2</a> &nbsp; <a  href="/Versions/v2/2.7/cfgman/auth_param.html">2.7</a> &nbsp; <a  href="/Versions/v3/3.1/cfgman/auth_param.html">3.1</a> &nbsp; <a  href="/Versions/v3/3.0/cfgman/auth_param.html">3.0</a> &nbsp; <a  href="/Versions/v2/2.6/cfgman/auth_param.html">2.6</a> &nbsp; </p>\u000a<h3>History:</h3>\u000a<dl id="4auth_param"><dt><b>Changes to auth_param in Squid-4: </B><DD>\u000a<P>New parameter <EM>queue-size=</EM> to set the maximum number\u000aof queued requests.</P>\u000a\u000a</dl>\u000a<dl id="3.5auth_param"><dt><b>Changes to auth_param in Squid-3.5: </B><DD>\u000a<P>New parameter <EM>key_extras</EM> to send additional parameters to\u000athe authentication helper.</P>\u000a\u000a</dl>\u000a<dl id="3.4auth_param"><dt><b>Changes to auth_param in Squid-3.4: </B><DD>\u000a<P>New result code <EM>BH</EM> to signal helper internal errors\u000aavailable in all authentication schemes.</P>\u000a<P>New key <EM>message=</EM> for error message details in all authentication schemes.</P>\u000a<P>New result code <EM>OK</EM> and key <EM>ha1=</EM> in Digest authentication.</P>\u000a<P>New result codes <EM>OK</EM>, <EM>ERR</EM> replace result codes <EM>AF</EM>,\u000aand <EM>NA</EM> in NTLM and Negotiate authentication.</P>\u000a<P>New key <EM>token=</EM> for NTLM and Negotiate authentication <EM>OK</EM> responses.</P>\u000a<P>Details at \u000a<A HREF="http://wiki.squid-cache.org/Features/AddonHelpers">http://wiki.squid-cache.org/Features/AddonHelpers</A>.</P>\u000a\u000a</dl>\u000a<p>For older versions than 3.3 see the linked pages above</p><h3>Configuration Details:</h3>\u000a\u000a  <table class="summary" summary="auth_param">\u000a    <tr>\u000a      <th>Option Name:</th><td id="name"><a name="auth_param">auth_param</a></td>\u000a    </tr>\u000a    <tr>\u000a      <th>Replaces:</th><td id="alias"></td>\u000a    </tr>\u000a    <tr>\u000a      <th>Requires:</th><td id="requires">--enable-auth</td>\u000a    </tr>\u000a    <tr>\u000a      <th>Default Value:</th><td id="default">none\u000a</td>\u000a    </tr>\u000a    <tr>\u000a      <th>Suggested Config:</th>\u000a      <td id="config">\u000a<pre>\u000a#auth_param negotiate program &lt;uncomment and complete this line to activate&gt;\u000a#auth_param negotiate children 20 startup=0 idle=1\u000a#auth_param negotiate keep_alive on\u000a#\u000a#auth_param digest program &lt;uncomment and complete this line to activate&gt;\u000a#auth_param digest children 20 startup=0 idle=1\u000a#auth_param digest realm Squid proxy-caching web server\u000a#auth_param digest nonce_garbage_interval 5 minutes\u000a#auth_param digest nonce_max_duration 30 minutes\u000a#auth_param digest nonce_max_count 50\u000a#\u000a#auth_param ntlm program &lt;uncomment and complete this line to activate&gt;\u000a#auth_param ntlm children 20 startup=0 idle=1\u000a#auth_param ntlm keep_alive on\u000a#\u000a#auth_param basic program &lt;uncomment and complete this line&gt;\u000a#auth_param basic children 5 startup=5 idle=1\u000a#auth_param basic realm Squid proxy-caching web server\u000a#auth_param basic credentialsttl 2 hours\u000a\u000a</pre>\u000a      </td>\u000a    </tr>\u000a    <tr>\u000a      <td id="detail" colspan="2">\u000a<pre>\u000a	This is used to define parameters for the various authentication\u000a	schemes supported by Squid.\u000a\u000a		format: auth_param scheme parameter [setting]\u000a\u000a	The order in which authentication schemes are presented to the client is\u000a	dependent on the order the scheme first appears in config file. IE\u000a	has a bug (it's not RFC 2617 compliant) in that it will use the basic\u000a	scheme if basic is the first entry presented, even if more secure\u000a	schemes are presented. For now use the order in the recommended\u000a	settings section below. If other browsers have difficulties (don't\u000a	recognize the schemes offered even if you are using basic) either\u000a	put basic first, or disable the other schemes (by commenting out their\u000a	program entry).\u000a\u000a	Once an authentication scheme is fully configured, it can only be\u000a	shutdown by shutting squid down and restarting. Changes can be made on\u000a	the fly and activated with a reconfigure. I.E. You can change to a\u000a	different helper, but not unconfigure the helper completely.\u000a\u000a	Please note that while this directive defines how Squid processes\u000a	authentication it does not automatically activate authentication.\u000a	To use authentication you must in addition make use of ACLs based\u000a	on login name in http_access (proxy_auth, proxy_auth_regex or\u000a	external with %LOGIN used in the format tag). The browser will be\u000a	challenged for authentication on the first such acl encountered\u000a	in http_access processing and will also be re-challenged for new\u000a	login credentials if the request is being denied by a proxy_auth\u000a	type acl.\u000a\u000a	WARNING: authentication can't be used in a transparently intercepting\u000a	proxy as the client then thinks it is talking to an origin server and\u000a	not the proxy. This is a limitation of bending the TCP/IP protocol to\u000a	transparently intercepting port 80, not a limitation in Squid.\u000a	Ports flagged 'transparent', 'intercept', or 'tproxy' have\u000a	authentication disabled.\u000a\u000a	=== Parameters common to all schemes. ===\u000a\u000a	"program" cmdline\u000a		Specifies the command for the external authenticator.\u000a\u000a		By default, each authentication scheme is not used unless a\u000a		program is specified.\u000a\u000a		See http://wiki.squid-cache.org/Features/AddonHelpers for\u000a		more details on helper operations and creating your own.\u000a\u000a	"key_extras" format\u000a		Specifies a string to be append to request line format for\u000a		the authentication helper. "Quoted" format values may contain\u000a		spaces and logformat %macros. In theory, any logformat %macro\u000a		can be used. In practice, a %macro expands as a dash (-) if\u000a		the helper request is sent before the required macro\u000a		information is available to Squid.\u000a\u000a		By default, Squid uses request formats provided in\u000a		scheme-specific examples below (search for %credentials).\u000a\u000a		The expanded key_extras value is added to the Squid credentials\u000a		cache and, hence, will affect authentication. It can be used to\u000a		autenticate different users with identical user names (e.g.,\u000a		when user authentication depends on http_port).\u000a\u000a		Avoid adding frequently changing information to key_extras. For\u000a		example, if you add user source IP, and it changes frequently\u000a		in your environment, then max_user_ip ACL is going to treat\u000a		every user+IP combination as a unique "user", breaking the ACL\u000a		and wasting a lot of memory on those user records. It will also\u000a		force users to authenticate from scratch whenever their IP\u000a		changes.\u000a\u000a	"realm" string\u000a		Specifies the protection scope (aka realm name) which is to be\u000a		reported to the client for the authentication scheme. It is\u000a		commonly part of the text the user will see when prompted for\u000a		their username and password.\u000a\u000a		For Basic the default is "Squid proxy-caching web server".\u000a		For Digest there is no default, this parameter is mandatory.\u000a		For NTLM and Negotiate this parameter is ignored.\u000a\u000a	"children" numberofchildren [startup=N] [idle=N] [concurrency=N]\u000a		[queue-size=N] [on-persistent-overload=action]\u000a\u000a		The maximum number of authenticator processes to spawn. If\u000a		you start too few Squid will have to wait for them to process\u000a		a backlog of credential verifications, slowing it down. When\u000a		password verifications are done via a (slow) network you are\u000a		likely to need lots of authenticator processes.\u000a\u000a		The startup= and idle= options permit some skew in the exact\u000a		amount run. A minimum of startup=N will begin during startup\u000a		and reconfigure. Squid will start more in groups of up to\u000a		idle=N in an attempt to meet traffic needs and to keep idle=N\u000a		free above those traffic needs up to the maximum.\u000a\u000a		The concurrency= option sets the number of concurrent requests\u000a		the helper can process.  The default of 0 is used for helpers\u000a		who only supports one request at a time. Setting this to a\u000a		number greater than 0 changes the protocol used to include a\u000a		channel ID field first on the request/response line, allowing\u000a		multiple requests to be sent to the same helper in parallel\u000a		without waiting for the response.\u000a\u000a		Concurrency must not be set unless it's known the helper\u000a		supports the input format with channel-ID fields.\u000a\u000a		The queue-size=N option sets the maximum number of queued\u000a		requests to N. The default maximum is 2*numberofchildren. Squid\u000a		is allowed to temporarily exceed the configured maximum, marking\u000a		the affected helper as "overloaded". If the helper overload\u000a		lasts more than 3 minutes, the action prescribed by the\u000a		on-persistent-overload option applies.\u000a\u000a		The on-persistent-overload=action option specifies Squid\u000a		reaction to a new helper request arriving when the helper\u000a		has been overloaded for more that 3 minutes already. The number\u000a		of queued requests determines whether the helper is overloaded\u000a		(see the queue-size option).\u000a\u000a		Two actions are supported:\u000a\u000a		  die	Squid worker quits. This is the default behavior.\u000a\u000a		  ERR	Squid treats the helper request as if it was\u000a			immediately submitted, and the helper immediately\u000a			replied with an ERR response. This action has no effect\u000a			on the already queued and in-progress helper requests.\u000a\u000a		NOTE: NTLM and Negotiate schemes do not support concurrency\u000a			in the Squid code module even though some helpers can.\u000a\u000a\u000aIF HAVE_AUTH_MODULE_BASIC\u000a	=== Basic authentication parameters ===\u000a\u000a	"utf8" on|off\u000a		HTTP uses iso-latin-1 as character set, while some\u000a		authentication backends such as LDAP expects UTF-8. If this is\u000a		set to on Squid will translate the HTTP iso-latin-1 charset to\u000a		UTF-8 before sending the username and password to the helper.\u000a\u000a	"credentialsttl" timetolive\u000a		Specifies how long squid assumes an externally validated\u000a		username:password pair is valid for - in other words how\u000a		often the helper program is called for that user. Set this\u000a		low to force revalidation with short lived passwords.\u000a\u000a		NOTE: setting this high does not impact your susceptibility\u000a		to replay attacks unless you are using an one-time password\u000a		system (such as SecureID). If you are using such a system,\u000a		you will be vulnerable to replay attacks unless you also\u000a		use the max_user_ip ACL in an http_access rule.\u000a\u000a	"casesensitive" on|off\u000a		Specifies if usernames are case sensitive. Most user databases\u000a		are case insensitive allowing the same username to be spelled\u000a		using both lower and upper case letters, but some are case\u000a		sensitive. This makes a big difference for user_max_ip ACL\u000a		processing and similar.\u000a\u000aENDIF\u000aIF HAVE_AUTH_MODULE_DIGEST\u000a	=== Digest authentication parameters ===\u000a\u000a	"utf8" on|off\u000a		HTTP uses iso-latin-1 as character set, while some\u000a		authentication backends such as LDAP expects UTF-8. If this is\u000a		set to on Squid will translate the HTTP iso-latin-1 charset to\u000a		UTF-8 before sending the username and password to the helper.\u000a\u000a	"nonce_garbage_interval" timeinterval\u000a		Specifies the interval that nonces that have been issued\u000a		to client_agent's are checked for validity.\u000a\u000a	"nonce_max_duration" timeinterval\u000a		Specifies the maximum length of time a given nonce will be\u000a		valid for.\u000a\u000a	"nonce_max_count" number\u000a		Specifies the maximum number of times a given nonce can be\u000a		used.\u000a\u000a	"nonce_strictness" on|off\u000a		Determines if squid requires strict increment-by-1 behavior\u000a		for nonce counts, or just incrementing (off - for use when\u000a		user agents generate nonce counts that occasionally miss 1\u000a		(ie, 1,2,4,6)). Default off.\u000a\u000a	"check_nonce_count" on|off\u000a		This directive if set to off can disable the nonce count check\u000a		completely to work around buggy digest qop implementations in\u000a		certain mainstream browser versions. Default on to check the\u000a		nonce count to protect from authentication replay attacks.\u000a\u000a	"post_workaround" on|off\u000a		This is a workaround to certain buggy browsers who send an\u000a		incorrect request digest in POST requests when reusing the\u000a		same nonce as acquired earlier on a GET request.\u000a\u000aENDIF\u000aIF HAVE_AUTH_MODULE_NEGOTIATE\u000a	=== Negotiate authentication parameters ===\u000a\u000a	"keep_alive" on|off\u000a		If you experience problems with PUT/POST requests when using\u000a		the this authentication scheme then you can try setting this\u000a		to off. This will cause Squid to forcibly close the connection\u000a		on the initial request where the browser asks which schemes\u000a		are supported by the proxy.\u000a\u000aENDIF\u000aIF HAVE_AUTH_MODULE_NTLM\u000a	=== NTLM authentication parameters ===\u000a\u000a	"keep_alive" on|off\u000a		If you experience problems with PUT/POST requests when using\u000a		the this authentication scheme then you can try setting this\u000a		to off. This will cause Squid to forcibly close the connection\u000a		on the initial request where the browser asks which schemes\u000a		are supported by the proxy.\u000aENDIF\u000a\u000a	=== Example Configuration ===\u000a\u000a	This configuration displays the recommended authentication scheme\u000a	order from most to least secure with recommended minimum configuration\u000a	settings for each scheme:\u000a\u000a\u000a</pre>\u000a      </td>\u000a    </tr>\u000a    <tr class="spacer"><td>&nbsp;</td></tr>\u000a  </table>\u000a\u000a<p><a href="../">Back</a></p>\u000a    </div>\u000a	<div id="colTwo">\u000a<!--\u000a		<h3>Search</h3>\u000a		<form id="form1" method="post" action="http://www.squid-cache.org/cgi-bin/swish-query.cgi">\u000a			<div>\u000a				<input name="keywords" type="text" id="textfield1" />\u000a				<input name="submit1" type="submit" id="submit1" value="Search" />\u000a			</div>\u000a		</form>\u000a-->\u000a		<p>&nbsp;</p>\u000a		<h3>Introduction</h3>\u000a		<ul>\u000a			<li><a href="/Intro/">About Squid</a></li>\u000a			<li><a href="/Intro/why.html">Why Squid?</a></li>\u000a			<li><a href="/Intro/who.html">Squid Developers</a></li>\u000a			<li><a href="/Foundation/donate.html">How to Donate</a></li>\u000a			<li><a href="/Intro/helping.html">How to Help Out</li>\u000a			<li><a href="/Download/">Getting Squid</a></li>\u000a			<li><a href="/Versions/">Squid Source Packages</a></li>\u000a			<li><a href="/Library/">Squid Deployment Case-Studies</a></li>\u000a			<li><a href="/Foundation/">Squid Software Foundation</a></li>\u000a		</ul>\u000a\u000a		<h3>Documentation</h3>\u000a		<ul>\u000a<!-- TODO publish these files from the sources\u000a			<li>Quick Setup:\u000a				Squid-3,\u000a				Squid-2\u000a			</li>\u000a-->\u000a			<li>Configuration:\u000a				<ul style="margin-left: 25px">\u000a					<li><a href="http://www.squid-cache.org/Doc/config/">Reference</a></li>\u000a					<li><a href="http://wiki.squid-cache.org/ConfigExamples">Examples</a></li>\u000a				</ul>\u000a			</li>\u000a			<li><a href="http://wiki.squid-cache.org/SquidFaq">FAQ</a> and <a href="http://wiki.squid-cache.org/">Wiki</a>\u000a			<li>Guide Books: \u000a				<ul style="margin-left: 25px">\u000a					<li><a href="https://www.packtpub.com/squid-proxy-server-31-beginners-guide/book">Beginners</a></li>\u000a					<li><a href="http://www.oreilly.com/catalog/squid/">Definitive</a></li>\u000a				</ul>\u000a			</li>\u000a			<li><a href="http://www.squid-cache.org/Doc/#non-english">Non-English</a></li>\u000a			<li><a href="http://www.squid-cache.org/Doc/">More...</a></li>\u000a		</ul>\u000a		<h3>Support</h3>\u000a		<ul>\u000a			<li><a href="/Advisories/">Security Advisories</a></li>\u000a			<li><a href="http://bugs.squid-cache.org/">Bugzilla Database</a></li>\u000a			<li><a href="/Support/mailing-lists.html">Mailing lists</a></li>\u000a			<li><a href="/Support/contact.html">Contacting us</a></li>\u000a			<li><a href="/Support/services.html">Commercial services</a></li>\u000a			<li><a href="/Support/sponsors.html">Project Sponsors</a></li>\u000a			<li><a href="/Support/products.html">Squid-based products</a></li>\u000a		</ul>\u000a		<h3>Miscellaneous</h3>\u000a		<ul>\u000a			<li><a href="http://wiki.squid-cache.org/DeveloperResources">Developer Resources</a></li>\u000a			<li><a href="/Misc/related-writings.html">Related Writings</a></li>\u000a			<li>Related Software:\u000a				<ul style="margin-left: 25px">\u000a<li><a href="/Misc/authenticators.html">Authenticators</a></li><li><a href="/Misc/ecap.html">Ecap</a></li><li><a href="/Misc/icap.html">Icap</a></li><li><a href="/Misc/ident.html">Ident</a></li><li><a href="/Misc/log-analysis.html">Log Analysis</a></li><li><a href="/Misc/monitor.html">Monitor</a></li><li><a href="/Misc/proxies.html">Proxies</a></li><li><a href="/Misc/redirectors.html">Redirectors</a></li>					<li><a href="/Misc/general.html">General</a></li>\u000a				</ul>\u000a			</li>\u000a			<li><a href="/Artwork/">Squid Artwork</a></li>\u000a		</ul>\u000a		<h3>Web Site Translations</h3>\u000a		<ul>\u000a			<li><a href="http://www.j-one.ne.jp/squid-cache/">Japanese</a></li>\u000a		</ul>\u000a		<h3>Mirrors</h3>\u000a		<ul>\u000a			<li>Website:</li>\u000a			<li>\u000a<a href="http://www.eu.squid-cache.org/">eu</a>\u000a<a href="http://www1.gr.squid-cache.org/">gr</a>\u000a<a href="http://www2.gr.squid-cache.org/">gr</a>\u000a<a href="http://www1.it.squid-cache.org/">it</a>\u000a<a href="http://www1.jp.squid-cache.org/">jp</a>\u000a<a href="http://www2.pl.squid-cache.org/">pl</a>\u000a<a href="http://www3.us.squid-cache.org/">us</a>\u000a<a href="http://www1.za.squid-cache.org/">za</a>\u000a ... <a href="/Download/http-mirrors.html">full list</a></li>\u000a			<li><br></li>\u000a			<li><a href="/Download/ftp-mirrors.html">FTP Package Archive</a></li>\u000a		</ul>\u000a	</div>\u000a	<div style="clear: both;">&nbsp;</div>\u000a</div>\u000a<div id="footer">\u000a	<p>$Id: footer.inc,v 1.37 2013/05/09 06:37:55 squidadm Exp $<br />\u000a	Design by <a href="http://www.freecsstemplates.org/">Free CSS Templates</a>.<br />\u000a	Template customisation by <a href="http://theducks.org">Alex Dawson</a> and <a href="http://www.creative.net.au/">Adrian Chadd</a>.<br />\u000a	Icons from <q>Silk</q> collection by Mark James of <a href="http://famfamfam.com/">famfamfam.com</a><br />\u000a	All web content licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution Sharealike 2.5 License</a></p>\u000a</div>\u000a<div>\u000a<script language="javascript">\u000aif (document.domain.substring(document.domain.length-16) != ".squid-cache.org")\u000awindow.location="http://www.squid-cache.org/";\u000a</script>\u000a</div>\u000a<!-- see http://validatorsearch.verisignlabs.com/ -->\u000a<a href="http://prefetch.validatorsearch.verisignlabs.com"></a>\u000a</body>\u000a</html>\u000a
p3
a.